{% extends 'base.html' %}
{% block title %}Create Post - Sohoj Biniyog{% endblock %}
{% load static %}
{% block content %}

<div class="container py-5">
  <!-- Header -->
  <div class="text-center mb-5">
    <h1 class="display-5 fw-bold">Create a Post</h1>
    <p class="lead text-muted">Share updates and engage with investors</p>
  </div>

  <div class="row">
    <!-- Post Form -->
    <div class="col-lg-8">
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4">
          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="mb-4">
              <label class="form-label fw-bold">Post Title <span class="text-danger">*</span></label>
              <input type="text" class="form-control form-control-lg" name="title" required placeholder="Enter an engaging title for your post">
            </div>

            <div class="mb-4">
              <label class="form-label fw-bold">Category <span class="text-danger">*</span></label>
              <select class="form-select" name="category" required>
                <option value="">Select category</option>
                <option value="announcement">Announcement</option>
                <option value="milestone">Milestone Achievement</option>
                <option value="product_update">Product/Service Update</option>
                <option value="financial_update">Financial Update</option>
                <option value="team_news">Team News</option>
                <option value="market_insights">Market Insights</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="mb-4">
              <label class="form-label fw-bold">Content <span class="text-danger">*</span></label>
              <textarea class="form-control" name="content" rows="12" required placeholder="Write your post content here...&#10;&#10;Share your business updates, achievements, challenges, or insights. Be transparent and engaging with your investors."></textarea>
              <small class="text-muted">Minimum 100 characters recommended</small>
            </div>

            <div class="mb-4">
              <label class="form-label fw-bold">Featured Image</label>
              <input type="file" class="form-control" name="featured_image" accept="image/*" onchange="previewImage(event)">
              <small class="text-muted">Upload a cover image for your post (JPG, PNG, max 5MB)</small>
              <div id="imagePreview" class="mt-3" style="display: none;">
                <img id="preview" src="" alt="Preview" class="img-fluid rounded" style="max-height: 300px;">
              </div>
            </div>

            <div class="mb-4">
              <label class="form-label fw-bold">Tags</label>
              <input type="text" class="form-control" name="tags" placeholder="e.g., growth, funding, milestone (comma separated)">
              <small class="text-muted">Add relevant tags to help investors find your post</small>
            </div>

            <div class="mb-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="notify_investors" name="notify_investors" checked>
                <label class="form-check-label" for="notify_investors">
                  Notify my investors about this post
                </label>
              </div>
            </div>

            <hr class="my-4">

            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <button type="button" class="btn btn-outline-secondary">Save as Draft</button>
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane me-2"></i>Publish Post
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Guidelines Sidebar -->
    <div class="col-lg-4">
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-body">
          <h6 class="fw-bold mb-3">
            <i class="fas fa-lightbulb text-warning me-2"></i>Posting Guidelines
          </h6>
          <ul class="small mb-0">
            <li class="mb-2">Be transparent and honest about your business</li>
            <li class="mb-2">Share both successes and challenges</li>
            <li class="mb-2">Include data and metrics when possible</li>
            <li class="mb-2">Use clear and professional language</li>
            <li class="mb-2">Add relevant images to make posts engaging</li>
            <li class="mb-2">Post regularly to keep investors informed</li>
          </ul>
        </div>
      </div>

      <div class="card border-0 shadow-sm mb-4">
        <div class="card-body">
          <h6 class="fw-bold mb-3">
            <i class="fas fa-chart-line text-success me-2"></i>Post Ideas
          </h6>
          <div class="d-grid gap-2">
            <button class="btn btn-sm btn-outline-primary text-start">ðŸ“Š Monthly Performance Update</button>
            <button class="btn btn-sm btn-outline-primary text-start">ðŸŽ¯ Milestone Achievement</button>
            <button class="btn btn-sm btn-outline-primary text-start">ðŸš€ New Product Launch</button>
            <button class="btn btn-sm btn-outline-primary text-start">ðŸ‘¥ Team Expansion News</button>
            <button class="btn btn-sm btn-outline-primary text-start">ðŸ’¡ Market Insights</button>
          </div>
        </div>
      </div>

      <div class="card border-0 bg-light">
        <div class="card-body">
          <h6 class="fw-bold mb-2">
            <i class="fas fa-info-circle text-primary me-2"></i>Why Post Regularly?
          </h6>
          <p class="small mb-0">Regular updates build trust with investors, showcase your progress, and can attract new investment opportunities.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Posts Section -->
  <div class="mt-5">
    <h4 class="fw-bold mb-4">Your Recent Posts</h4>
    <div class="row g-3">
      <div class="col-md-6 col-lg-4">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <span class="badge bg-success">Milestone</span>
              <small class="text-muted">2 days ago</small>
            </div>
            <h6 class="fw-bold mb-2">Q1 Revenue Target Achieved!</h6>
            <p class="small text-muted mb-3">We're excited to announce that we've reached our Q1 revenue goals...</p>
            <div class="d-flex justify-content-between text-muted small">
              <span><i class="fas fa-eye me-1"></i> 248 views</span>
              <span><i class="fas fa-thumbs-up me-1"></i> 34 likes</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <span class="badge bg-primary">Product Update</span>
              <small class="text-muted">1 week ago</small>
            </div>
            <h6 class="fw-bold mb-2">New Feature Launch</h6>
            <p class="small text-muted mb-3">Today we're launching our most requested feature...</p>
            <div class="d-flex justify-content-between text-muted small">
              <span><i class="fas fa-eye me-1"></i> 412 views</span>
              <span><i class="fas fa-thumbs-up me-1"></i> 52 likes</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <span class="badge bg-info">Team News</span>
              <small class="text-muted">2 weeks ago</small>
            </div>
            <h6 class="fw-bold mb-2">Welcome Our New CTO</h6>
            <p class="small text-muted mb-3">We're thrilled to welcome Jane Doe as our new Chief Technology Officer...</p>
            <div class="d-flex justify-content-between text-muted small">
              <span><i class="fas fa-eye me-1"></i> 189 views</span>
              <span><i class="fas fa-thumbs-up me-1"></i> 28 likes</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .card {
    border-radius: 12px;
  }

  .form-control, .form-select {
    border-radius: 8px;
    padding: 0.625rem 0.875rem;
  }

  .form-control:focus, .form-select:focus {
    border-color: #53d0be;
    box-shadow: 0 0 0 0.2rem rgba(83, 208, 190, 0.25);
  }

  .btn-primary {
    background: linear-gradient(135deg, #53d0be, #2c9fa3);
    border: none;
    font-weight: 500;
  }

  .btn-primary:hover {
    background: linear-gradient(135deg, #2c9fa3, #53d0be);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(83, 208, 190, 0.3);
  }

  .btn-outline-primary {
    border-color: #53d0be;
    color: #2c9fa3;
  }

  .btn-outline-primary:hover {
    background-color: #53d0be;
    border-color: #53d0be;
    color: white;
  }

  .btn-outline-secondary:hover {
    background-color: #6c757d;
    color: white;
  }

  .text-primary {
    color: #2c9fa3 !important;
  }
</style>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<script>
  function previewImage(event) {
    const file = event.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById('preview').src = e.target.result;
        document.getElementById('imagePreview').style.display = 'block';
      }
      reader.readAsDataURL(file);
    }
  }
</script>

{% endblock %}